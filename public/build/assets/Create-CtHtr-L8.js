import{W as I,r as d,j as e,Y as L,a as B}from"./app-BC__SOPf.js";import{L as l}from"./label-DpfHqOCJ.js";import{P as h,a as p,b as u}from"./popover-DmhqyVXy.js";import{B as c}from"./button-aI15s4PB.js";import{C as x,a as j}from"./index-D6mfvjMq.js";import{C as f,a as b,b as g,c as N,d as v,e as C}from"./CommandContent-DxBT88uR.js";import{c as k}from"./utils-6PJseIst.js";import{I as i}from"./input-Db9qwkHX.js";import{u as E}from"./use-toast-jBdQ0q1s.js";import{t as F,d as z}from"./data-DSixZN8S.js";import{M}from"./MainLayout-DBQDGeUg.js";import{T as G}from"./textarea-CKj8noHs.js";import{z as K}from"./transition-CezwKZ0F.js";import"./index-Dm8DcO5X.js";import"./index-CZhsWJq9.js";import"./Combination-D7pIyE80.js";import"./index-l-XiRjVR.js";import"./index-DI5J79Mi.js";import"./index-ClB-KppM.js";import"./dialog-iYf8mwPu.js";import"./alert-dialog-BfdfrZuh.js";import"./createLucideIcon-XDsn1f4s.js";import"./toaster--UsfZD4W.js";import"./dropdown-menu-BT1J7vqF.js";import"./align-justify-DzJpg43a.js";import"./Image-BNe35iiT.js";const pe=({title:y})=>{const{toast:_}=E(),{data:s,setData:t,post:w,errors:R,processing:D,recentlySuccessful:r}=I({name:"",tag:"",filepath:null,description:"",doc_from:null,doc_to:null}),[o,m]=d.useState({label_tag:null,label_type:null});d.useEffect(()=>{r&&(_({variant:"default",title:"Tambah Document",description:"Berhasil menambahkan data document baru!"}),t({...s,name:"",tag:"",filepath:"",description:"",doc_from:null,doc_to:null}),m({...o,label_tag:null,label_type:null}))},[r]);const T=a=>{a.target.files&&a.target.files[0]&&t("filepath",a.target.files[0])},P=a=>{a.preventDefault(),w(route("admin.document.store"))};return e.jsxs(M,{children:[e.jsx(L,{title:y}),e.jsxs("div",{className:"flex flex-col justify-center p-3 max-w-xl",children:[e.jsx("h1",{className:"text-2xl text-black font-bold mb-5",children:"Form Tambah Data Document"}),e.jsxs("form",{onSubmit:P,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(l,{className:"text-right",children:"Nama Document"}),e.jsx(i,{id:"name",value:s.name,onChange:a=>t("name",a.target.value),className:"col-span-3 mb-3"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(l,{className:"text-right",children:"Document Tag"}),e.jsxs(h,{children:[e.jsx(p,{asChild:!0,children:e.jsxs(c,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[o.label_tag??"Pilih Document Tag",e.jsx(x,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(u,{className:"w-full p-0",children:e.jsxs(f,{children:[e.jsx(b,{placeholder:"Cari berdasarkan Nama Tag...",className:"h-9"}),e.jsxs(g,{children:[e.jsx(N,{children:"Data tag tidak ditemukan."}),e.jsx(v,{children:F.map(a=>e.jsxs(C,{value:a.id,onSelect:S=>{Promise.all([t("tag",a.id),m(n=>({...n,label_tag:a.label}))])},children:[a.label,e.jsx(j,{className:k("ml-auto h-4 w-4 text-black",a.id===s.tag?"opacity-100":"opacity-0")})]},a.id))})]})]})})]})]}),e.jsxs("div",{className:"mb-3",hidden:s.tag!="surat",children:[e.jsx(l,{className:"text-right",children:"Tipe Surat"}),e.jsxs(h,{children:[e.jsx(p,{asChild:!0,children:e.jsxs(c,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[o.label_type??"Pilih Tipe Surat",e.jsx(x,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(u,{className:"w-full p-0",children:e.jsxs(f,{children:[e.jsx(b,{placeholder:"Cari berdasarkan tipe surat...",className:"h-9"}),e.jsxs(g,{children:[e.jsx(N,{children:"Data tipe surat tidak ditemukan."}),e.jsx(v,{children:z.map(a=>e.jsxs(C,{value:a.id,onSelect:S=>{Promise.all([t("type",a.id),m(n=>({...n,label_type:a.label}))])},children:[a.label,e.jsx(j,{className:k("ml-auto h-4 w-4 text-black",a.id===s.type?"opacity-100":"opacity-0")})]},a.id))})]})]})})]})]}),e.jsxs("div",{className:"mb-3",hidden:s.tag!="surat",children:[e.jsx(l,{className:"text-right",children:"Nama Pengirim"}),e.jsx(i,{id:"doc_from",value:s.doc_from,onChange:a=>t("doc_from",a.target.value),className:"col-span-3 mb-3"})]}),e.jsxs("div",{className:"mb-3",hidden:s.tag!="surat",children:[e.jsx(l,{className:"text-right",children:"Nama Penerima"}),e.jsx(i,{id:"doc_to",value:s.doc_to,onChange:a=>t("doc_to",a.target.value),className:"col-span-3 mb-3"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx(l,{htmlFor:"name",className:"text-right",children:"Deskripsi"}),e.jsx(G,{id:"description",value:s.description,onChange:a=>t("description",a.target.value),className:"col-span-3 mb-3",rows:10,placeholder:"Tuliskan saja tidak ada jika tidak ada deskripsi untuk dokumen"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx(l,{htmlFor:"filePath",className:"text-right",children:"Upload Document"}),e.jsx(i,{id:"filePath",type:"file",onChange:T,className:"col-span-3 mb-3 file:bg-slate-200 file:p-2 file:my-auto file:rounded-l-md file:-ml-3 file:-mt-1"})]}),e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(B,{href:route("admin.document.index"),className:"bg-red-500 p-[0.4rem] rounded-md text-sm text-white hover:bg-red-400 px-3 py-2",children:"Kembali"}),e.jsx(c,{type:"submit",disabled:D,children:"Simpan"})]}),e.jsx(K,{show:r,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("span",{className:"text-sm",children:"Berhasil!"})})]})]})]})};export{pe as default};
