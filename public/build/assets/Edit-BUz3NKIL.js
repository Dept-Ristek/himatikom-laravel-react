import{W as C,r as n,j as e,Y as P,a as w}from"./app-CkNUXSio.js";import{u as S}from"./use-toast-DIkyO2Y1.js";import{L as i}from"./label-DnkWAsj-.js";import{I as d}from"./input-DZI-2XTF.js";import{B as c}from"./button-Dc7OzJxX.js";import{I as k}from"./Image-DdRqI4pO.js";import{R as I}from"./index-DWEwo10l.js";import{M as L,C as R,a as E,b as F,c as T,d as D,e as U}from"./MainLayout-B9-i2e9A.js";import{P as B,a as O,b as _}from"./popover-KRWNGgUZ.js";import{C as G}from"./index-Bh5jsxlY.js";import{c as M}from"./utils-CbzvqOJO.js";import{C as X}from"./check-BKj6aR3M.js";import{X as H}from"./transition-DifgdXHj.js";import"./index-CvOBxlF7.js";import"./align-justify-BwW6n03D.js";import"./Combination-DF1xAw57.js";import"./index-CcR0PjjZ.js";import"./createLucideIcon-D0FQNb5K.js";import"./dropdown-menu-DK4h3zBi.js";import"./alert-dialog-DYuAPPc5.js";import"./dialog-B2fgKK0J.js";import"./index-CesVnNWe.js";const pe=({title:x,product:s})=>{const p=[{id:"ready",label:"Ready"},{id:"pre-order",label:"Pre Order"},{id:"sold-out",label:"Sold Out"}],m=p.find(a=>a.id===s.availability),{toast:b}=S(),{data:l,setData:t,post:u,errors:K,processing:h,recentlySuccessful:o}=C({name:s.name,price:s.price,image:null,description:s.description,availability:s.availability,_method:"PUT"}),[r,f]=n.useState(s.image),[j,g]=n.useState({label_availability:m==null?void 0:m.label});n.useEffect(()=>{o&&b({variant:"default",title:"Edit Produk",description:"Berhasil mengubah data produk!"})},[o]);const v=a=>{a.target.files&&a.target.files[0]&&(t("image",a.target.files[0]),f(URL.createObjectURL(a.target.files[0])))},y=a=>{a.preventDefault(),u(route("admin.product.update",s.id))};return e.jsxs(L,{children:[e.jsx(P,{title:x}),e.jsxs("div",{className:"flex flex-col justify-center p-3 max-w-2xl",children:[e.jsx("h1",{className:"text-2xl text-black font-bold mb-5",children:"Form Tambah Data Product"}),e.jsxs("form",{onSubmit:y,children:[e.jsxs("div",{className:"mb-2",children:[e.jsx(i,{htmlFor:"name",className:"text-right",children:"Nama"}),e.jsx(d,{id:"name",value:l.name,onChange:a=>t("name",a.target.value),className:"col-span-3 mb-3"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx(i,{htmlFor:"price",className:"text-right",children:"Harga"}),e.jsx(d,{id:"price",value:l.price,onChange:a=>t("price",+a.target.value),className:"col-span-3 mb-3"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx(i,{htmlFor:"image",className:"text-right",children:"Gambar"}),e.jsx(d,{id:"image",type:"file",onChange:v,className:"col-span-3 mb-3 file:bg-slate-200 file:p-2 file:my-auto file:rounded-l-md file:-ml-3 file:-mt-1"})]}),e.jsx("div",{className:"mb-2",children:e.jsx("div",{className:"bg-slate-400 rounded-md w-[15rem] h-full border border-slate-400",children:r&&e.jsx(k,{src:typeof r=="string"?r:URL.createObjectURL(r),alt:"Preview Poster Image",className:"rounded-md h-full w-[15rem] border-slate-400 object-cover"})})}),e.jsxs("div",{className:"mb-2",children:[e.jsx(i,{className:"text-right",children:"Status Produk"}),e.jsxs(B,{children:[e.jsx(O,{asChild:!0,children:e.jsxs(c,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[j.label_availability??"Pilih Status Produk",e.jsx(G,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(_,{className:"w-full p-0",children:e.jsxs(R,{children:[e.jsx(E,{placeholder:"Cari Status...",className:"h-9"}),e.jsxs(F,{children:[e.jsx(T,{children:"Data Status tidak ditemukan."}),e.jsx(D,{children:p.map(a=>e.jsxs(U,{value:a.label,onSelect:()=>{Promise.all([t("availability",a.id),g(N=>({...N,label_availability:a.label}))])},children:[a.label,e.jsx(X,{className:M("ml-auto h-4 w-4 text-black",a.id===l.availability?"opacity-100":"opacity-0")})]},a.id))})]})]})})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx(i,{htmlFor:"description",className:"text-right",children:"Deskripsi"}),e.jsx(I,{theme:"snow",value:l.description,onChange:a=>t("description",a),className:"rounded-md",placeholder:"Type anything..."})]}),e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(w,{href:route("admin.product.index"),children:e.jsx(c,{className:"bg-red-500 p-[0.4rem] rounded-md text-sm text-white hover:bg-red-400 px-3 py-2",disabled:h,type:"button",children:"Kembali"})}),e.jsx(c,{type:"submit",disabled:h,children:"Simpan"})]}),e.jsx(H,{show:o,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("span",{className:"text-sm",children:"Berhasil!"})})]})]})]})};export{pe as default};
