import{W as N,r as d,j as e,Y as v,a as C}from"./app-BC__SOPf.js";import{L as a}from"./label-DpfHqOCJ.js";import{P as w,a as S,b as P}from"./popover-DmhqyVXy.js";import{B as h}from"./button-aI15s4PB.js";import{C as D,a as y}from"./index-D6mfvjMq.js";import{C as I,a as A,b as T,c as L,d as B,e as E}from"./CommandContent-DxBT88uR.js";import{c as F}from"./utils-6PJseIst.js";import{I as O}from"./input-Db9qwkHX.js";import{S as x}from"./switch-DSyZnbSf.js";import{C as c}from"./calendar-D0wwZ_Ks.js";import{M as R}from"./MainLayout-DBQDGeUg.js";import{u as K}from"./use-toast-jBdQ0q1s.js";import{z as M}from"./transition-CezwKZ0F.js";import"./index-Dm8DcO5X.js";import"./index-CZhsWJq9.js";import"./Combination-D7pIyE80.js";import"./index-l-XiRjVR.js";import"./index-DI5J79Mi.js";import"./index-ClB-KppM.js";import"./dialog-iYf8mwPu.js";import"./alert-dialog-BfdfrZuh.js";import"./createLucideIcon-XDsn1f4s.js";import"./toaster--UsfZD4W.js";import"./dropdown-menu-BT1J7vqF.js";import"./align-justify-DzJpg43a.js";import"./Image-BNe35iiT.js";const xe=({title:u,kepengurusans:g})=>{const{toast:_}=K(),{data:s,setData:t,post:j,errors:z,processing:f,recentlySuccessful:m}=N({name:"",is_proker:!1,schedule:"",need_to_register:!1,kepengurusan_id:"",start_register:"",end_register:""}),[n,l]=d.useState({schedule:new Date,start_register:new Date,end_register:new Date}),[o,p]=d.useState({kepengurusan_label:null,is_proker:!1,need_to_register:!1});d.useEffect(()=>{m&&(_({variant:"default",title:`Tambah ${o.is_proker?"Program Kerja":"Agenda"}`,description:`Berhasil menambahkan data ${o.is_proker?"Program Kerja":"Agenda"} baru!`}),t({...s,name:"",is_proker:!1,schedule:"",need_to_register:!1,kepengurusan_id:"",start_register:"",end_register:""}),l({...n,schedule:new Date,start_register:new Date,end_register:new Date}),p({...o,kepengurusan_label:null,is_proker:!1,need_to_register:!1}))},[m]);const k=r=>{r.preventDefault(),j(route("admin.proker.store"))};return e.jsxs(R,{children:[e.jsx(v,{title:u}),e.jsxs("div",{className:"flex flex-col justify-center p-3 max-w-xl",children:[e.jsx("h1",{className:"text-2xl text-black font-bold mb-5",children:"Form Tambah Data Proker"}),e.jsxs("form",{onSubmit:k,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(a,{className:"text-right",children:"Nama Proker atau Agenda"}),e.jsx(O,{id:"name",value:s.name,onChange:r=>t("name",r.target.value),className:"col-span-3 mb-3"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(a,{className:"text-right",children:"Departemen"}),e.jsxs(w,{children:[e.jsx(S,{asChild:!0,children:e.jsxs(h,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[o.kepengurusan_label??"Pilih Departemen",e.jsx(D,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(P,{className:"w-full p-0",children:e.jsxs(I,{children:[e.jsx(A,{placeholder:"Cari berdasarkan Nama Departemen...",className:"h-9"}),e.jsxs(T,{children:[e.jsx(L,{children:"Data departemen tidak ditemukan."}),e.jsx(B,{children:g.map(r=>e.jsxs(E,{value:r.name,onSelect:i=>{Promise.all([t("kepengurusan_id",r.id),p(b=>({...b,kepengurusan_label:r.name}))])},children:[r.name,e.jsx(y,{className:F("ml-auto h-4 w-4 text-black",r.id===s.kepengurusan_id?"opacity-100":"opacity-0")})]},r.id))})]})]})})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(a,{className:"text-right",children:"Proker / Agenda"}),e.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[e.jsx(x,{id:"is_proker",checked:s.is_proker,onCheckedChange:r=>t("is_proker",!s.is_proker)}),e.jsx(a,{htmlFor:"is_proker",children:s.is_proker?"Proker":"Agenda"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs(a,{className:"text-right",children:["Jadwal ",s.is_proker?"Proker":"Agenda"]}),e.jsx(c,{mode:"single",selected:n.schedule,onSelect:r=>{Promise.all([t("schedule",r==null?void 0:r.toISOString()),l(i=>({...i,schedule:r}))])},className:"rounded-md"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(a,{className:"text-right",children:"Memerlukan Open Recruitment"}),e.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[e.jsx(x,{id:"need_to_register",checked:s.need_to_register,onCheckedChange:r=>t("need_to_register",!s.need_to_register)}),e.jsx(a,{htmlFor:"need_to_register",children:s.need_to_register?"Ya":"Tidak"})]})]}),e.jsxs("div",{className:"mb-3",hidden:!s.need_to_register,children:[e.jsx(a,{className:"text-right",children:"Recruitment Dimulai"}),e.jsx(c,{mode:"single",selected:n.start_register,onSelect:r=>{Promise.all([t("start_register",r==null?void 0:r.toISOString()),l(i=>({...i,start_register:r}))])},className:"rounded-md"})]}),e.jsxs("div",{className:"mb-3",hidden:!s.need_to_register,children:[e.jsx(a,{className:"text-right",children:"Recruitment Selesai"}),e.jsx(c,{mode:"single",selected:n.end_register,onSelect:r=>{Promise.all([t("end_register",r==null?void 0:r.toISOString()),l(i=>({...i,end_register:r}))])},className:"rounded-md"})]}),e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(C,{href:route("admin.proker.index"),className:"bg-red-500 p-[0.4rem] rounded-md text-sm text-white hover:bg-red-400 px-3 py-2",children:"Kembali"}),e.jsx(h,{type:"submit",disabled:f,children:"Simpan"})]}),e.jsx(M,{show:m,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("span",{className:"text-sm",children:"Berhasil!"})})]})]})]})};export{xe as default};
