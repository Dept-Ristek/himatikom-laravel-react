import{W as h,r as c,j as e,Y as j,a as b}from"./app-CbQMMcCF.js";import{I as i}from"./input-NTMwya5q.js";import{L as l}from"./label-BDUIQwm3.js";import{B as g}from"./button-DI0Zj6ar.js";import{M as v}from"./MainLayout-C7QiQJ_L.js";import{I as N}from"./Image-CMV1XoOO.js";import{u as y}from"./use-toast-DxTquMFM.js";import{X as w}from"./transition-Bwp-9Tfr.js";import"./utils-BvcvHkli.js";import"./index-DEn8AMXp.js";import"./align-justify-D9l8-S1f.js";import"./index-CnnH0OWL.js";import"./Combination-Dnd6A2F6.js";import"./index-DQ26hfFQ.js";import"./index-BW2NSRQZ.js";import"./createLucideIcon-B_R7XSt_.js";import"./dropdown-menu-C2URrB9r.js";import"./alert-dialog-BQDOyL3e.js";import"./dialog-BGfzDwcU.js";const q=({title:d})=>{const{toast:p}=y(),{data:s,setData:t,post:x,errors:I,processing:n,recentlySuccessful:m}=h({nim:"",name:"",email:"",avatar:null}),[r,o]=c.useState("/icon/default-avatar.jpg");c.useEffect(()=>{m&&(p({variant:"default",title:"Tambah User",description:"Berhasil menambahkan data user baru!"}),t({...s,nim:"",name:"",email:"",avatar:null}),o("/icon/default-avatar.jpg"))},[m]);const u=a=>{a.target.files&&a.target.files[0]&&(t("avatar",a.target.files[0]),o(URL.createObjectURL(a.target.files[0])))},f=a=>{a.preventDefault(),x(route("admin.user.store"))};return e.jsxs(v,{children:[e.jsx(j,{title:d}),e.jsxs("div",{className:"flex flex-col justify-center p-3 max-w-xl",children:[e.jsx("h1",{className:"text-2xl text-black font-bold mb-5",children:"Form Tambah Data"}),e.jsxs("form",{onSubmit:f,encType:"multipart/form-data",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx(l,{htmlFor:"nim",className:"text-right",children:"NIM"}),e.jsx(i,{id:"nim",type:"text",value:s.nim,onChange:a=>t("nim",a.target.value),className:"col-span-3 mb-3"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx(l,{htmlFor:"name",className:"text-right",children:"Nama"}),e.jsx(i,{id:"name",value:s.name,onChange:a=>t("name",a.target.value),className:"col-span-3 mb-3"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx(l,{htmlFor:"email",className:"text-right",children:"Email"}),e.jsx(i,{id:"email",type:"email",value:s.email,onChange:a=>t("email",a.target.value),className:"col-span-3 mb-3"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx(l,{htmlFor:"avatar",className:"text-right",children:"Avatar"}),e.jsx(i,{id:"avatar",type:"file",onChange:u,className:"col-span-3 mb-3 file:bg-slate-200 file:p-2 file:my-auto file:rounded-l-md file:-ml-3 file:-mt-1"})]}),e.jsxs("div",{className:"flex flex-row justify-between items-center",children:[e.jsx("div",{className:"bg-slate-400 rounded-full w-[150px] h-[150px]",children:r&&e.jsx(N,{src:typeof r=="string"?r:URL.createObjectURL(r),alt:"Preview User Image",className:"rounded-full border-slate-400 w-[150px] h-[150px] object-cover"})}),e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(b,{href:route("admin.user.index"),className:"bg-red-500 p-[0.4rem] rounded-md text-sm text-white hover:bg-red-400 px-3 py-2",disabled:n,children:"Kembali"}),e.jsx(g,{type:"submit",disabled:n,children:"Simpan"})]})]}),e.jsx(w,{show:m,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("span",{className:"text-sm",children:"Berhasil!"})})]})]})]})};export{q as default};
