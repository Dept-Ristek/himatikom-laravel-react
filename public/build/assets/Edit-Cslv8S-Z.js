import{W as M,r as _,j as e,Y as T,a as J}from"./app-CbQMMcCF.js";import{B as i}from"./button-DI0Zj6ar.js";import{C as c,a as d}from"./index-CnnH0OWL.js";import{M as F,C as x,a as h,b as j,c as p,d as b,e as u}from"./MainLayout-C7QiQJ_L.js";import{P as f,a as N,b as v}from"./popover-DGQl-xMA.js";import{c as w}from"./utils-BvcvHkli.js";import{l as P}from"./data-D_4fncdr.js";import{L as y}from"./label-BDUIQwm3.js";import{u as X}from"./use-toast-DxTquMFM.js";import{X as $}from"./transition-Bwp-9Tfr.js";import"./index-DEn8AMXp.js";import"./Combination-Dnd6A2F6.js";import"./index-DQ26hfFQ.js";import"./align-justify-D9l8-S1f.js";import"./index-BW2NSRQZ.js";import"./createLucideIcon-B_R7XSt_.js";import"./dropdown-menu-C2URrB9r.js";import"./alert-dialog-BQDOyL3e.js";import"./dialog-BGfzDwcU.js";import"./Image-CMV1XoOO.js";const me=({title:S,pengurus:s,users:g,kepengurusans:D})=>{var k,C;const{toast:E}=X(),{data:t,setData:r,post:I,errors:G,processing:L,recentlySuccessful:n}=M({user_id:s.user_id,kepengurusan_id:s.kepengurusan_id,level:s.level,_method:"PUT"}),[m,o]=_.useState({user_label:(k=s==null?void 0:s.user)==null?void 0:k.name,kepengurusan_label:(C=s==null?void 0:s.kepengurusan)==null?void 0:C.name,level_label:P[+(s==null?void 0:s.level)-1].label});_.useEffect(()=>{n&&E({variant:"default",title:"Edit Pengurus",description:"Berhasil mengubah data pengurus!"})},[n]);const B=a=>{a.preventDefault(),I(route("admin.pengurus.update",s.id))};return e.jsxs(F,{children:[e.jsx(T,{title:S}),e.jsxs("div",{className:"flex flex-col justify-center p-3 max-w-xl",children:[e.jsx("h1",{className:"text-2xl text-black font-bold mb-5",children:"Form Edit Data Pengurus"}),e.jsxs("form",{onSubmit:B,children:[e.jsxs("div",{className:"mb-2",children:[e.jsx(y,{className:"text-right",children:"Mahasiswa"}),e.jsxs(f,{children:[e.jsx(N,{asChild:!0,children:e.jsxs(i,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[m.user_label??"Pilih user",e.jsx(c,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(v,{className:"w-full p-0",children:e.jsxs(x,{children:[e.jsx(h,{placeholder:"Cari berdasarkan NIM...",className:"h-9"}),e.jsxs(j,{children:[e.jsx(p,{children:"Data mahasiswa tidak ditemukan."}),e.jsx(b,{children:g.map(a=>e.jsxs(u,{value:a.nim,onSelect:l=>{Promise.all([r("user_id",a.id),o(K=>({...K,user_label:`(${a.nim}) ${a.name}`}))])},children:["(",a.nim,") ",a.name,e.jsx(d,{className:w("ml-auto h-4 w-4 text-black",a.id===t.user_id?"opacity-100":"opacity-0")})]},a.id))})]})]})})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx(y,{className:"text-right",children:"Kepengurusan"}),e.jsxs(f,{children:[e.jsx(N,{asChild:!0,children:e.jsxs(i,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[m.kepengurusan_label??"Pilih Kepengurusan",e.jsx(c,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(v,{className:"w-full p-0",children:e.jsxs(x,{children:[e.jsx(h,{placeholder:"Cari Kepengurusan...",className:"h-9"}),e.jsxs(j,{children:[e.jsx(p,{children:"Data kepengurusan tidak ditemukan."}),e.jsx(b,{children:D.map(a=>e.jsxs(u,{value:a.name,onSelect:()=>{Promise.all([r("kepengurusan_id",a.id),o(l=>({...l,kepengurusan_label:a.name}))])},children:[a.name,e.jsx(d,{className:w("ml-auto h-4 w-4 text-black",a.id===t.kepengurusan_id?"opacity-100":"opacity-0")})]},a.id))})]})]})})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx(y,{className:"text-right",children:"Jabatan"}),e.jsxs(f,{children:[e.jsx(N,{asChild:!0,children:e.jsxs(i,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[m.level_label??"Pilih Jabatan",e.jsx(c,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(v,{className:"w-full p-0",children:e.jsxs(x,{children:[e.jsx(h,{placeholder:"Cari Jabatan...",className:"h-9"}),e.jsxs(j,{children:[e.jsx(p,{children:"Data jabatan tidak ditemukan."}),e.jsx(b,{children:P.map(a=>e.jsxs(u,{value:a.label,onSelect:()=>{Promise.all([r("level",a.id),o(l=>({...l,level_label:a.label}))])},children:[a.label,e.jsx(d,{className:w("ml-auto h-4 w-4 text-black",a.id===t.level?"opacity-100":"opacity-0")})]},a.id))})]})]})})]})]}),e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(J,{href:route("admin.pengurus.index"),className:"bg-red-500 p-[0.4rem] rounded-md text-sm text-white hover:bg-red-400 px-3 py-2",children:"Kembali"}),e.jsx(i,{type:"submit",disabled:L,children:"Simpan"})]}),e.jsx($,{show:n,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("span",{className:"text-sm",children:"Berhasil!"})})]})]})]})};export{me as default};
