import{W as k,r as c,j as e,Y as w,a as S}from"./app-BC__SOPf.js";import{L as a}from"./label-DpfHqOCJ.js";import{P,a as D,b as y}from"./popover-DmhqyVXy.js";import{B as u}from"./button-aI15s4PB.js";import{C as I,a as F}from"./index-D6mfvjMq.js";import{C as A,a as E,b as M,c as L,d as B,e as O}from"./CommandContent-DxBT88uR.js";import{c as R}from"./utils-6PJseIst.js";import{I as T}from"./input-Db9qwkHX.js";import{S as g}from"./switch-DSyZnbSf.js";import{C as h}from"./calendar-D0wwZ_Ks.js";import{M as K}from"./MainLayout-DBQDGeUg.js";import{u as z}from"./use-toast-jBdQ0q1s.js";import{z as Y}from"./transition-CezwKZ0F.js";import"./index-Dm8DcO5X.js";import"./index-CZhsWJq9.js";import"./Combination-D7pIyE80.js";import"./index-l-XiRjVR.js";import"./index-DI5J79Mi.js";import"./index-ClB-KppM.js";import"./dialog-iYf8mwPu.js";import"./alert-dialog-BfdfrZuh.js";import"./createLucideIcon-XDsn1f4s.js";import"./toaster--UsfZD4W.js";import"./dropdown-menu-BT1J7vqF.js";import"./align-justify-DzJpg43a.js";import"./Image-BNe35iiT.js";const pe=({title:p,kepengurusans:_,proker:t})=>{var x;const{toast:j}=z(),{data:r,setData:i,put:f,errors:$,processing:b,recentlySuccessful:d}=k({name:t.name,is_proker:t.is_proker,schedule:t.schedule??"",need_to_register:t.need_to_register,kepengurusan_id:t.kepengurusan_id,start_register:t.start_register??"",end_register:t.end_register??""}),[n,m]=c.useState({schedule:t.schedule?new Date(t.schedule):new Date,start_register:t.start_register?new Date(t.start_register):new Date,end_register:t.end_register?new Date(t.end_register):new Date}),[o,N]=c.useState({kepengurusan_label:(x=t==null?void 0:t.kepengurusan)==null?void 0:x.name,is_proker:r.is_proker,need_to_register:r.need_to_register});c.useEffect(()=>{d&&j({variant:"default",title:`Edit ${o.is_proker?"Program Kerja":"Agenda"}`,description:`Berhasil mengubah data ${o.is_proker?"Program Kerja":"Agenda"}!`})},[d]);const v=s=>{s.preventDefault(),f(route("admin.proker.update",t.id))};return e.jsxs(K,{children:[e.jsx(w,{title:p}),e.jsxs("div",{className:"flex flex-col justify-center p-3 max-w-xl",children:[e.jsx("h1",{className:"text-2xl text-black font-bold mb-5",children:"Form Edit Data Proker"}),e.jsxs("form",{onSubmit:v,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(a,{className:"text-right",children:"Nama Proker atau Agenda"}),e.jsx(T,{id:"name",value:r.name,onChange:s=>i("name",s.target.value),className:"col-span-3 mb-3"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(a,{className:"text-right",children:"Departemen"}),e.jsxs(P,{children:[e.jsx(D,{asChild:!0,children:e.jsxs(u,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[o.kepengurusan_label??"Pilih Departemen",e.jsx(I,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(y,{className:"w-full p-0",children:e.jsxs(A,{children:[e.jsx(E,{placeholder:"Cari berdasarkan Nama Departemen...",className:"h-9"}),e.jsxs(M,{children:[e.jsx(L,{children:"Data departemen tidak ditemukan."}),e.jsx(B,{children:_.map(s=>e.jsxs(O,{value:s.name,onSelect:l=>{Promise.all([i("kepengurusan_id",s.id),N(C=>({...C,kepengurusan_label:s.name}))])},children:[s.name,e.jsx(F,{className:R("ml-auto h-4 w-4 text-black",s.id===r.kepengurusan_id?"opacity-100":"opacity-0")})]},s.id))})]})]})})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(a,{className:"text-right",children:"Proker / Agenda"}),e.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[e.jsx(g,{id:"is_proker",checked:r.is_proker,onCheckedChange:s=>i("is_proker",!r.is_proker)}),e.jsx(a,{htmlFor:"is_proker",children:r.is_proker?"Proker":"Agenda"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs(a,{className:"text-right",children:["Jadwal ",r.is_proker?"Proker":"Agenda"]}),e.jsx(h,{initialFocus:!0,mode:"single",selected:n.schedule,defaultMonth:n.schedule,onSelect:s=>{Promise.all([i("schedule",s==null?void 0:s.toISOString()),m(l=>({...l,schedule:s}))])},className:"rounded-md"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(a,{className:"text-right",children:"Memerlukan Open Recruitment"}),e.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[e.jsx(g,{id:"need_to_register",checked:r.need_to_register,onCheckedChange:s=>i("need_to_register",!r.need_to_register)}),e.jsx(a,{htmlFor:"need_to_register",children:r.need_to_register?"Ya":"Tidak"})]})]}),e.jsxs("div",{className:"mb-3",hidden:!r.need_to_register,children:[e.jsx(a,{className:"text-right",children:"Recruitment Dimulai"}),e.jsx(h,{initialFocus:!0,mode:"single",selected:n.start_register,defaultMonth:n.start_register,onSelect:s=>{Promise.all([i("start_register",s==null?void 0:s.toISOString()),m(l=>({...l,start_register:s}))])},className:"rounded-md"})]}),e.jsxs("div",{className:"mb-3",hidden:!r.need_to_register,children:[e.jsx(a,{className:"text-right",children:"Recruitment Selesai"}),e.jsx(h,{initialFocus:!0,mode:"single",selected:n.end_register,defaultMonth:n.end_register,onSelect:s=>{Promise.all([i("end_register",s==null?void 0:s.toISOString()),m(l=>({...l,end_register:s}))])},className:"rounded-md"})]}),e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(S,{href:route("admin.proker.index"),className:"bg-red-500 p-[0.4rem] rounded-md text-sm text-white hover:bg-red-400 px-3 py-2",children:"Kembali"}),e.jsx(u,{type:"submit",disabled:b,children:"Simpan"})]}),e.jsx(Y,{show:d,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("span",{className:"text-sm",children:"Berhasil!"})})]})]})]})};export{pe as default};
